import{y as C,z as te,p as re,h as U,A as D,f,a as S,u as g,w as $,F as O,o as c,Z as ne,b as s,c as ae,d as E,i as P,g as N,j as G,k as R,l as A,t as x,n as se}from"./app-BA8Cp2I4.js";import{_ as oe}from"./AuthenticatedLayout-B7Gd2BXE.js";import{_ as ie}from"./Pagination-DNXFaOWS.js";import{_ as le}from"./TextInput-w7EgZHWu.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";function ue(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var q=ue,ce=typeof C=="object"&&C&&C.Object===Object&&C,fe=ce,me=fe,pe=typeof self=="object"&&self&&self.Object===Object&&self,be=me||pe||Function("return this")(),J=be,ge=J,ve=function(){return ge.Date.now()},ye=ve,he=/\s/;function xe(e){for(var n=e.length;n--&&he.test(e.charAt(n)););return n}var _e=xe,Te=_e,ke=/^\s+/;function Se(e){return e&&e.slice(0,Te(e)+1).replace(ke,"")}var je=Se,we=J,$e=we.Symbol,K=$e,W=K,Q=Object.prototype,Oe=Q.hasOwnProperty,Ie=Q.toString,I=W?W.toStringTag:void 0;function Ce(e){var n=Oe.call(e,I),a=e[I];try{e[I]=void 0;var u=!0}catch{}var m=Ie.call(e);return u&&(n?e[I]=a:delete e[I]),m}var Ee=Ce,Ne=Object.prototype,Ae=Ne.toString;function Le(e){return Ae.call(e)}var Pe=Le,M=K,Ve=Ee,Be=Pe,Fe="[object Null]",Ue="[object Undefined]",z=M?M.toStringTag:void 0;function De(e){return e==null?e===void 0?Ue:Fe:z&&z in Object(e)?Ve(e):Be(e)}var Ge=De;function Re(e){return e!=null&&typeof e=="object"}var We=Re,Me=Ge,ze=We,He="[object Symbol]";function Xe(e){return typeof e=="symbol"||ze(e)&&Me(e)==He}var Ze=Xe,qe=je,H=q,Je=Ze,X=NaN,Ke=/^[-+]0x[0-9a-f]+$/i,Qe=/^0b[01]+$/i,Ye=/^0o[0-7]+$/i,et=parseInt;function tt(e){if(typeof e=="number")return e;if(Je(e))return X;if(H(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=H(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=qe(e);var a=Qe.test(e);return a||Ye.test(e)?et(e.slice(2),a?2:8):Ke.test(e)?X:+e}var rt=tt,nt=q,V=ye,Z=rt,at="Expected a function",st=Math.max,ot=Math.min;function it(e,n,a){var u,m,_,d,l,p,v=0,j=!1,y=!1,T=!0;if(typeof e!="function")throw new TypeError(at);n=Z(n)||0,nt(a)&&(j=!!a.leading,y="maxWait"in a,_=y?st(Z(a.maxWait)||0,n):_,T="trailing"in a?!!a.trailing:T);function k(o){var h=u,w=m;return u=m=void 0,v=o,d=e.apply(w,h),d}function i(o){return v=o,l=setTimeout(b,n),j?k(o):d}function r(o){var h=o-p,w=o-v,F=n-h;return y?ot(F,_-w):F}function t(o){var h=o-p,w=o-v;return p===void 0||h>=n||h<0||y&&w>=_}function b(){var o=V();if(t(o))return B(o);l=setTimeout(b,r(o))}function B(o){return l=void 0,T&&u?k(o):(u=m=void 0,d)}function Y(){l!==void 0&&clearTimeout(l),v=0,u=p=m=l=void 0}function ee(){return l===void 0?d:B(V())}function L(){var o=V(),h=t(o);if(u=arguments,m=this,p=o,h){if(l===void 0)return i(p);if(y)return clearTimeout(l),l=setTimeout(b,n),k(p)}return l===void 0&&(l=setTimeout(b,n)),d}return L.cancel=Y,L.flush=ee,L}var lt=it;const dt=te(lt),ut={class:"py-12"},ct={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ft={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},mt={class:"p-6 bg-white border-b border-gray-200"},pt={class:"flex justify-between mb-6"},bt={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},gt=["value"],vt=["value"],yt={class:"min-w-full divide-y divide-gray-200"},ht={class:"bg-gray-50"},xt=["onClick"],_t={key:0,class:"ml-1"},Tt={key:0,scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},kt={class:"bg-white divide-y divide-gray-200"},St={class:"px-6 py-4 whitespace-nowrap"},jt={class:"px-6 py-4 whitespace-nowrap"},wt={class:"px-6 py-4 whitespace-nowrap"},$t={class:"px-6 py-4 whitespace-nowrap"},Ot={key:0,class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},It=["onClick"],Ct={__name:"Index",props:{devices:Object,filters:Object,types:Array},setup(e){var v,j,y,T,k;const n=e,a=re({search:((v=n.filters)==null?void 0:v.search)||"",type:((j=n.filters)==null?void 0:j.type)||"",status:((y=n.filters)==null?void 0:y.status)||"",sort_field:((T=n.filters)==null?void 0:T.sort_field)||"name",sort_direction:((k=n.filters)==null?void 0:k.sort_direction)||"asc"}),u={available:{label:"Available",class:"bg-green-100 text-green-800"},in_use:{label:"In Use",class:"bg-blue-100 text-blue-800"},damaged:{label:"Damaged",class:"bg-red-100 text-red-800"}},m=U(()=>a.value.sort_direction==="asc"?"↑":"↓"),_=U(()=>i=>{var r;return((r=u[i])==null?void 0:r.class)||""}),d=dt((i={})=>{a.value={...a.value,...i},D.get(route("devices.index"),a.value,{preserveState:!0,preserveScroll:!0})},300),l=i=>{const r=i===a.value.sort_field&&a.value.sort_direction==="asc"?"desc":"asc";d({sort_field:i,sort_direction:r})},p=async i=>{confirm("Apakah anda yakin ingin menghapus perangkat ini?")&&await D.delete(route("devices.destroy",i))};return(i,r)=>(c(),f(O,null,[S(g(ne),{title:"List Perangkat"}),S(oe,null,{header:$(()=>r[5]||(r[5]=[s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"List Perangkat",-1)])),default:$(()=>[s("div",ut,[s("div",ct,[s("div",ft,[s("div",mt,[s("div",pt,[r[7]||(r[7]=s("h3",{class:"text-2xl font-semibold"},"Perangkat",-1)),i.$page.props.auth.user.role==="admin"?(c(),ae(g(P),{key:0,href:i.route("devices.create"),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},{default:$(()=>r[6]||(r[6]=[E(" Tambah Perangkat Baru ")])),_:1},8,["href"])):N("",!0)]),s("div",bt,[S(le,{modelValue:a.value.search,"onUpdate:modelValue":r[0]||(r[0]=t=>a.value.search=t),onInput:g(d),placeholder:"Cari perangkat...",class:"w-full"},null,8,["modelValue","onInput"]),G(s("select",{"onUpdate:modelValue":r[1]||(r[1]=t=>a.value.type=t),onChange:r[2]||(r[2]=(...t)=>g(d)&&g(d)(...t)),class:"rounded-md border-gray-300"},[r[8]||(r[8]=s("option",{value:""},"Semua Tipe",-1)),(c(!0),f(O,null,A(e.types,t=>(c(),f("option",{key:t,value:t},x(t),9,gt))),128))],544),[[R,a.value.type]]),G(s("select",{"onUpdate:modelValue":r[3]||(r[3]=t=>a.value.status=t),onChange:r[4]||(r[4]=(...t)=>g(d)&&g(d)(...t)),class:"rounded-md border-gray-300"},[r[9]||(r[9]=s("option",{value:""},"Semua Status",-1)),(c(),f(O,null,A(u,(t,b)=>s("option",{key:b,value:b},x(t.label),9,vt)),64))],544),[[R,a.value.status]])]),s("table",yt,[s("thead",ht,[s("tr",null,[(c(),f(O,null,A(["name","type","manufacturer","status"],t=>s("th",{key:t,onClick:b=>l(t),class:"px-6 py-3 text-left cursor-pointer hover:bg-gray-100"},[E(x(t.charAt(0).toUpperCase()+t.slice(1))+" ",1),a.value.sort_field===t?(c(),f("span",_t,x(m.value),1)):N("",!0)],8,xt)),64)),i.$page.props.auth.user.role==="admin"?(c(),f("th",Tt," Aksi ")):N("",!0)])]),s("tbody",kt,[(c(!0),f(O,null,A(e.devices.data,t=>(c(),f("tr",{key:t.id},[s("td",St,x(t.name),1),s("td",jt,x(t.type),1),s("td",wt,x(t.manufacturer),1),s("td",$t,[s("span",{class:se(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",_.value(t.status)])},x(t.status),3)]),i.$page.props.auth.user.role==="admin"?(c(),f("td",Ot,[S(g(P),{href:i.route("devices.edit",t.id),class:"text-indigo-600 hover:text-indigo-900 mr-2"},{default:$(()=>r[10]||(r[10]=[E("Edit")])),_:2},1032,["href"]),S(g(P),{href:i.route("devices.show",t.id),class:"text-green-600 hover:text-green-900 mr-2"},{default:$(()=>r[11]||(r[11]=[E("View")])),_:2},1032,["href"]),s("button",{onClick:b=>p(t.id),class:"text-red-600 hover:text-red-900"},"Delete",8,It)])):N("",!0)]))),128))])]),S(ie,{class:"mt-6",links:e.devices.links},null,8,["links"])])])])])]),_:1})],64))}},Vt=de(Ct,[["__scopeId","data-v-bb705046"]]);export{Vt as default};
